import{d as A,C as R,r as h,c as F,o as M,y as B,D as q,b as E,f as I,z as O,i as P}from"./app-Wqwu0YPT.js";/* empty css            */import"./cursor-DO_kGd39.js";const U=A({__name:"ClickSpark",props:{sparkColor:{default:"#fff"},sparkSize:{default:10},sparkRadius:{default:15},sparkCount:{default:8},duration:{default:400},easing:{default:"ease-out"},extraScale:{default:1}},setup(w){const t=w,x=R("containerRef"),o=R("canvasRef"),d=h([]),g=h(null),r=h(null),k=F(()=>e=>{switch(t.easing){case"linear":return e;case"ease-in":return e*e;case"ease-in-out":return e<.5?2*e*e:-1+(4-2*e)*e;default:return e*(2-e)}}),y=e=>{const n=o.value;if(!n)return;const a=n.getBoundingClientRect(),s=e.clientX-a.left,l=e.clientY-a.top,p=performance.now(),u=Array.from({length:t.sparkCount},(i,f)=>({x:s,y:l,angle:2*Math.PI*f/t.sparkCount,startTime:p}));d.value.push(...u)},v=e=>{g.value||(g.value=e);const n=o.value,a=n?.getContext("2d");!a||!n||(a.clearRect(0,0,n.width,n.height),d.value=d.value.filter(s=>{const l=e-s.startTime;if(l>=t.duration)return!1;const p=l/t.duration,u=k.value(p),i=u*t.sparkRadius*t.extraScale,f=t.sparkSize*(1-u),S=s.x+i*Math.cos(s.angle),T=s.y+i*Math.sin(s.angle),_=s.x+(i+f)*Math.cos(s.angle),b=s.y+(i+f)*Math.sin(s.angle);return a.strokeStyle=t.sparkColor,a.lineWidth=2,a.beginPath(),a.moveTo(S,T),a.lineTo(_,b),a.stroke(),!0}),r.value=requestAnimationFrame(v))},C=()=>{const e=o.value;if(!e)return;const n=e.parentElement;if(!n)return;const{width:a,height:s}=n.getBoundingClientRect();(e.width!==a||e.height!==s)&&(e.width=a,e.height=s)};let m;const z=()=>{clearTimeout(m),m=setTimeout(C,100)};let c=null;return M(()=>{const e=o.value;if(!e)return;const n=e.parentElement;n&&(c=new ResizeObserver(z),c.observe(n),C(),r.value=requestAnimationFrame(v))}),B(()=>{c&&c.disconnect(),clearTimeout(m),r.value&&cancelAnimationFrame(r.value)}),q([()=>t.sparkColor,()=>t.sparkSize,()=>t.sparkRadius,()=>t.sparkCount,()=>t.duration,k,()=>t.extraScale],()=>{r.value&&cancelAnimationFrame(r.value),r.value=requestAnimationFrame(v)}),(e,n)=>(P(),E("div",{ref_key:"containerRef",ref:x,class:"relative h-full w-full",onClick:y},[I("canvas",{ref_key:"canvasRef",ref:o,class:"pointer-events-none absolute inset-0 z-[9999]"},null,512),O(e.$slots,"default")],512))}});export{U as default};
